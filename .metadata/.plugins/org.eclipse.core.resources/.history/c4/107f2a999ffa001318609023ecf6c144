package com.hurix.imagecompression;

import java.awt.Frame;
import java.awt.image.BufferedImage;
import java.io.File;
import java.util.Enumeration;
import java.util.Vector;

import com.hurix.imageutility.ImageUtils;
import com.hurix.utils.FileFilterFactory;
import com.hurix.utils.UIUtils;

public class ImageCompressionEngine {
	
	public static void main(String[] args) 
	{
		String workDirectory = "/Users/narayan/Development/PDFSamples/ModifiedPDF/";
		Vector<File> files = UIUtils.getSelectedFiles(new Frame(), 
		  	 					     FileFilterFactory.IMAGE_FILE_FILTER, true);
		Enumeration<File> e = files.elements();
		while(e.hasMoreElements()) {
			float compressRatio = 0.2f;
			while (compressRatio < 1.0f) {
				try {
					BufferedImage img = ImageUtils.compressImage(ImageUtils.loadImage(e.nextElement()), compressRatio);
				} catch(Exception ex) {
					ex.printStackTrace();
				}
			}
		}
	}
}
